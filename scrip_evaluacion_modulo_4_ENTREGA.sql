

--SE ELIMINAN LAS TABLAS 

DROP TABLE CAPACITACION
DROP TABLE CLIENTE
DROP TABLE ADMINISTRATIVO
DROP TABLE PROFESIONAL
DROP TABLE USUARIOS


CREATE TABLE CAPACITACION (
    IDCAPACITACION      NUMBER(9) PRIMARY KEY,
    CAPFECHA            VARCHAR2 (10) NOT NULL,
    CAPHORA             VARCHAR2 (6),
    CAPLUGAR            VARCHAR2(100 BYTE) NOT NULL,
    CAPDURACION         NUMBER(4),
    CLIENTE_RUTCLIENTE  VARCHAR2(10) NOT NULL);


CREATE TABLE CLIENTE (
    RUTCLIENTE       VARCHAR2(10) PRIMARY KEY,
    CLINOMBRES       VARCHAR2(30 BYTE) NOT NULL,
    CLIAPELLIDOS     VARCHAR2(50 BYTE) NOT NULL,
    CLITELEFONO      VARCHAR2(20 BYTE) NOT NULL,
    CLIAFP           VARCHAR2(30 BYTE),
    CLISISTEMASALUD  NUMBER(2),
    CLIDIRECCION     VARCHAR2(100 BYTE) NOT NULL,
    CLICOMUNA        VARCHAR2(50 BYTE) NOT NULL,
    CLIEDAD          NUMBER(3) NOT NULL,
    USUARIO_RUN      VARCHAR2(10) NOT NULL);
    
 

CREATE TABLE ADMINISTRATIVO (

    RUN          VARCHAR2(10) PRIMARY KEY,
    NOMBRES      VARCHAR2(50),
    APELLIDOS    VARCHAR2(50),
    CORREO       VARCHAR2(50),
    AREA         VARCHAR2(30),
    USUARIO_RUN   VARCHAR2(10) NOT NULL );
    
CREATE TABLE PROFESIONAL (
    RUN           VARCHAR2(10) PRIMARY KEY,
    NOMBRES      VARCHAR2(50),
    APELLIDOS    VARCHAR2(50),
    TELEFONO     VARCHAR2(20 BYTE) NOT NULL,
    TITULO       VARCHAR2(50),
    PROYECTO     VARCHAR2(50),
    USUARIO_RUN   VARCHAR2(10) NOT NULL);
    
    CREATE TABLE USUARIOS (
    RUN               VARCHAR2(10) PRIMARY KEY,
    NOMBRE           VARCHAR2(50),
    APELLIDO         VARCHAR2(50),
    FECHANACIMIENTO  VARCHAR2(12),
    TIPOUSUARIO      VARCHAR2(15) NOT NULL);
    
    
ALTER TABLE CAPACITACION ADD CONSTRAINT CAPACITACION_CLIENTE_FK FOREIGN KEY ( CLIENTE_RUTCLIENTE ) REFERENCES CLIENTE ( RUTCLIENTE ) ON DELETE CASCADE;

ALTER TABLE ADMINISTRATIVO ADD CONSTRAINT ADMINISTRATIVO_USUARIOS_FK FOREIGN KEY ( USUARIO_RUN ) REFERENCES USUARIOS ( RUN )ON DELETE CASCADE;

ALTER TABLE CLIENTE ADD CONSTRAINT CLIENTE_USUARIOS_FK FOREIGN KEY ( USUARIO_RUN ) REFERENCES USUARIOS ( RUN )ON DELETE CASCADE;

ALTER TABLE PROFESIONAL ADD CONSTRAINT PROFESIONAL_USUARIOS_FK FOREIGN KEY ( USUARIO_RUN ) REFERENCES USUARIOS ( RUN )ON DELETE CASCADE;

INSERT INTO USUARIOS VALUES ('17654987-2','JUAN','PEREZ','1950-11-25','Cliente');
INSERT INTO USUARIOS VALUES ('12654987-1','DIEGO','ZAMORA','1920-01-05','Cliente');
INSERT INTO USUARIOS VALUES ('13654987-9','KARLA','ABALLAY','2000-10-15','Cliente');

INSERT INTO USUARIOS VALUES ('10654321-8','CARLO','CONTRERA','1930-02-11','Profesional');
INSERT INTO USUARIOS VALUES ('7654321-2','SIMON','BOLIVAR','1945-09-11','Profesional');
INSERT INTO USUARIOS VALUES ('11654951-3','ARTURO','LOPEZ','1956-11-26','Profesional');

INSERT INTO USUARIOS VALUES ('13268954-1','CAMILA','TORRES','1933-03-12','Administrativo');
INSERT INTO USUARIOS VALUES ('14123864-2','FERNANDO','GONZALES','1545-09-05','Administrativo');
INSERT INTO USUARIOS VALUES ('16951842-2','DANIEL','RIOS','1975-01-29','Administrativo');

INSERT INTO CLIENTE VALUES ('17654987-2','JUAN','PEREZ','+56932165487','MODELO',1,'PRAT 23', 'VIÑA','120','17654987-2');
INSERT INTO CLIENTE VALUES ('12654987-1','DIEGO','ZAMORA','+56932198741','HABITA',2,'RHIN 24', 'VALPARAISO','119','12654987-1');
INSERT INTO CLIENTE VALUES ('13654987-9','KARLA','ABALLAY','+56932165412','UNO',1,'PASAJE DOS 23', 'SANTIAGO','100','13654987-9');

INSERT INTO PROFESIONAL VALUES ('10654321-8','CARLO','CONTRERA','+5632654987','PREVENCION','ENAP','10654321-8');
INSERT INTO PROFESIONAL VALUES ('7654321-2','SIMON','BOLIVAR','+56987147258','CONTADOR','CAROZZI','7654321-2');
INSERT INTO PROFESIONAL VALUES ('11654951-3','ARTURO','LOPEZ','+56925896314','PROGRAMADOR','INTEL','11654951-3');

INSERT INTO ADMINISTRATIVO VALUES ('13268954-1','CAMILA','TORRES','TORRES@HOTMAIL.COM','PREVENCION','13268954-1');
INSERT INTO ADMINISTRATIVO VALUES ('14123864-2','FERNANDO','GONZALES','TERAPIA@GMAIL.COM','KINESIOLOGO','14123864-2');
INSERT INTO ADMINISTRATIVO VALUES ('16951842-2','DANIEL','RIOS','RIOS@GMAIL.COM','INFORMATICO','16951842-2');

INSERT INTO CAPACITACION VALUES (1,'2050-12-14','14:00','TALTAL',60,'17654987-2');
INSERT INTO CAPACITACION VALUES (2,'2022-10-13','16:00','ARICA',60,'12654987-1');
INSERT INTO CAPACITACION VALUES (3,'2021-06-07','08:00','IQUIQUE',60,'13654987-9');
COMMIT;

SELECT * FROM USUARIOS

SELECT * FROM PROFESIONAL

SELECT * FROM CLIENTE

SELECT * FROM ADMINISTRATIVO

SELECT * FROM CAPACITACION